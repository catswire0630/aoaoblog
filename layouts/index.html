{{/* 自定义主页布局
  这个文件会覆盖主题的默认主页
  它的作用是：列出 content/blog 文件夹里最新的5篇文章
*/}}

{{/* 使用主题的基础框架来保持样式一致 */}}
{{- define "main" -}}

  <div class="container-fluid">
    <div class="row">
      <div class="col-12 col-lg-8">
        <div class="page-header">
          <h1>{{ .Title }}</h1>
        </div>

        {{ $paginator := .Paginate (where .Site.RegularPages "Section" "blog") }}
        {{ range $paginator.Pages }}
          <div class="post-preview">
            <a href="{{ .Permalink }}">
              <h2 class="post-title">{{ .Title }}</h2>
              {{ with .Params.summary }}
                <h3 class="post-subtitle">{{ . }}</h3>
              {{ end }}
            </a>
            <p class="post-meta">
              Posted on {{ .Date.Format "January 2, 2006" }}
            </p>
          </div>
          <hr>
        {{ end }}

        {{/* 分页导航 (如果文章多于5篇) */}}
        {{ partial "pagination.html" . }}
      </div>
    </div>
  </div>

{{- end -}}